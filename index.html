<!DOCTYPE html>
<html lang="en" class="bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Z01 Labs Login</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='10 0 100 100'><text y='0.9em' font-size='90'>🔬</text></svg>">
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module">
    import { fetchUserData } from "./js/app.js";
    function checkAuth() {
      const authToken = localStorage.getItem("authToken");
      if (authToken) window.location.href = "profile.html";
    }
    checkAuth();
  </script>
</head>

<body class="h-screen w-screen flex items-center justify-center">
  <div class="w-full max-w-6xl p-4 md:flex gap-8">
    <!-- Left: Message -->
    <div class="hidden md:flex flex-col justify-center w-1/2 space-y-4">
      <h1 class="text-4xl font-extrabold tracking-wide leading-snug">
        Welcome to<br>
        <span class="text-cyan-400">Z01Kisumu Profile Survey</span><br>
        we know <span class="text-yellow-400">your profile stands</span> <span class="text-green-400">aloft.</span>
        <!-- <span class="text-pink-400">Innovating with </span> engineers. -->
      </h1>
      <p class="text-gray-300 text-lg">
        Secure access to your account and data analysis tools. Encryption calibrated. Entanglement stable.
      </p>
    </div>

    <!-- Right: Login -->
    <div
      class="bg-gray-950 border border-gray-700 shadow-lg rounded-2xl p-8 w-full md:w-1/2 space-y-6 relative overflow-hidden">
      <div class="absolute inset-0 opacity-5 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/asfalt-light.png')]"></div>

      <h2 class="text-3xl font-bold mb-2 text-cyan-300">Log In</h2>
      <form id="loginForm" class="flex flex-col gap-4">
        <div>
          <label for="username" class="block text-sm font-medium text-gray-300">Email or Username</label>
          <input id="username" name="username" type="text" required placeholder="name@domain.com"
            class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" />
        </div>
        <div class="relative">
          <label for="password" class="block text-sm font-medium text-gray-300">Password</label>
          <input id="password" name="password" type="password" required placeholder="••••••••••••"
            class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white pr-10 focus:outline-none focus:ring-2 focus:ring-cyan-500" />
          <button type="button" id="togglePassword"
            class="absolute right-3 top-9 text-gray-400 hover:text-white transition">👁️</button>
        </div>

        <button type="submit"
          class="mt-2 bg-cyan-600 hover:bg-cyan-700 transition text-white font-semibold py-2 px-4 rounded-lg">
          Access Lab
        </button>
        <div id="error-message" class="text-red-500 text-sm"></div>
      </form>
      <div class="text-gray-500 text-xs text-center mt-4">
        Quantum Secure Gateway v1.04 • © Z01 Technologies
      </div>
    </div>
  </div>

  <!-- Script section -->
  <script type="module">
    import { login } from "./js/app.js";
    loginForm.addEventListener("submit", login);
  </script>

  <script>
    const togglePassword = document.getElementById("togglePassword");
    const passwordField = document.getElementById("password");

    togglePassword.addEventListener("click", () => {
      const isPassword = passwordField.type === "password";
      passwordField.type = isPassword ? "text" : "password";
      togglePassword.textContent = isPassword ? "🙈" : "👁️";
    });
  </script>
</body>

</html>
